@inject IHttpContextAccessor HttpContextAccessor

<div class="header-nav--utilities d-flex align-items-center justify-content-end flex-row-reverse flex-row flex-md-row">
    <div class="account d-flex flex-column">
        @if (clientPrincipalName != null)
        {
            <p>@clientPrincipalName</p> <a href="/.auth/logout">Sign out</a>
        }
        else
        {
            <a href="/.auth/login/aad">Log in</a>
        }
    </div>
</div>

@code {

    private string? clientPrincipalName { get; set; }

    protected override void OnInitialized()
    {
        // Read the X-MS-CLIENT-PRINCIPAL-NAME header as a nullable string
        clientPrincipalName = HttpContextAccessor.HttpContext?.Request.Headers["X-MS-CLIENT-PRINCIPAL-NAME"];
    }
}