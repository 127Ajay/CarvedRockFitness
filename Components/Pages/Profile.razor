@page "/Profile"
@inject IHttpContextAccessor HttpContextAccessor

<h1>Profile</h1>
<p>Username: @clientPrincipalName</p>

@code {
    private string? clientPrincipalName { get; set; }

    protected override void OnInitialized()
    {
        // Read the X-MS-CLIENT-PRINCIPAL-NAME header
        clientPrincipalName = HttpContextAccessor.HttpContext?.Request.Headers["X-MS-CLIENT-PRINCIPAL-NAME"];
    }
}